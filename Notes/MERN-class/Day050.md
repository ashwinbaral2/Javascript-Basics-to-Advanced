# ğŸ“… MERN CLASS NOTES â€” DAY 050

## ğŸ“† Date: **February 4, 2026 (Wednesday)**

---

## ğŸ—„ï¸ SQL vs NoSQL Databases

| Feature        | SQL (Relational)             | NoSQL (Non-relational)              |
| -------------- | ---------------------------- | ----------------------------------- |
| Data model     | Tables (rows & columns)      | Documents, Key-Value, Column, Graph |
| Schema         | Fixed, predefined            | Flexible / schema-less              |
| Query language | SQL                          | DB-specific (MongoDB queries, etc.) |
| Relationships  | Strong (joins, foreign keys) | Weak or handled in app logic        |
| Transactions   | ACID compliant               | Usually BASE (eventual consistency) |
| Consistency    | Strong consistency           | Eventual or tunable consistency     |
| Scalability    | Vertical (scale up)          | Horizontal (scale out)              |
| Data structure | Structured data              | Semi-structured / unstructured      |
| Performance    | Great for complex queries    | Great for large-scale, high-traffic |
| Flexibility    | Lowâ€“medium                   | High                                |
| Learning curve | Steeper (rules, schema)      | Easier to start                     |
| Examples       | PostgreSQL, MySQL, Oracle    | MongoDB, Redis, Cassandra           |
| Best use cases | Banking, ERP, transactions   | Real-time apps, big data, caching   |

---

## ğŸ” ORM vs ODM

### ğŸ§© ORM (Object Relational Mapping)
- Used with **relational databases**
- Converts **objects â†” tables**
- Query-based using SQL internally  
- Examples: **Sequelize, TypeORM, Prisma**

### ğŸ§© ODM (Object Document Mapping)
- Used with **NoSQL databases**
- Converts **objects â†” documents**
- Schema handled at application level  
- Examples: **Mongoose (MongoDB ODM)**

---

## ğŸ§  MongoDB Stack Used
- **MongoDB Client** â†’ Low-level DB access
- **Mongoose ODM** â†’ Schema, validation, middleware

---

## ğŸš€ Project Kickoff

### ğŸ“Œ Project Assigned by Trainer
**Earthquake Management Tool (GIS-based)**  
â†’ **Full-Stack MERN Project**

### ğŸ“Œ Key Idea
- Design **your own database**
- Schema must match **real-world problem**
- GIS features require **geospatial data**

---

## ğŸ§± Earthquake Schema (Mongoose)

```ts
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Schema â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const EarthquakeSchema = new Schema(
  {
    eventId: {
      type: String, // unique event identifier
      required: true,
      unique: true,
    },

    source: {
      type: String, // data source or agency name
      required: true,
    },

    detectedAt: {
      type: Date, // ISO 8601 timestamp
      required: true,
    },

    location: {
      type: {
        type: String, // GeoJSON type
        enum: ["Point"],
        default: "Point",
      },
      coordinates: {
        type: [Number], // [longitude, latitude]
        required: true,
      },
    },

    depthKm: {
      type: Number, // depth in kilometers
      required: true,
    },

    magnitude: {
      value: {
        type: Number, // magnitude value
        required: true,
      },
      scale: {
        type: String, // magnitude scale
        enum: ["Mw", "ML", "Ms", "Mb"],
        default: "Mw",
      },
    },

    reviewed: {
      type: Boolean, // verified by seismologist
      default: false,
    },

    remarks: String,
  },
  { timestamps: true }
);
```

---

## ğŸ“ Earthquake Schema â€” Quick Notes

| Field          | Type          | Key Point                                    |
| -------------- | ------------- | -------------------------------------------- |
| **eventId**    | String        | Unique ID, required                          |
| **source**     | String        | Reporting agency (USGS, EMSC), required      |
| **detectedAt** | Date          | Detection timestamp                          |
| **location**   | GeoJSON Point | `[longitude, latitude]`, enables geo queries |
| **depthKm**    | Number        | Depth in km, affects intensity               |
| **magnitude**  | Object        | `{ value, scale }`                           |
| **reviewed**   | Boolean       | Verified by expert (default: false)          |
| **remarks**    | String        | Optional notes                               |
| **timestamps** | Auto          | `createdAt`, `updatedAt`                     |

---

## ğŸ—ºï¸ API Quick Map

| Action        | Endpoint                                      |
| ------------- | --------------------------------------------- |
| **Create**    | `POST /api/earthquakes`                       |
| **Read All**  | `GET /api/earthquakes`                        |
| **Read One**  | `GET /api/earthquakes/:eventId`               |
| **Update**    | `PATCH /api/earthquakes/:eventId`             |
| **Delete**    | `DELETE /api/earthquakes/:eventId`            |
| **Geo Query** | `GET /api/earthquakes/near?lat=&lng=&radius=` |

---

## ğŸ’¡ Memory Hooks

* **â€œID + Source + Timeâ€** â†’ core identity
* **â€œWhere + How Deep + How Strongâ€** â†’ epicenter insight
* **â€œReviewed?â€** â†’ trust & verification level

---
