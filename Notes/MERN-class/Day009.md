# ğŸ“… MERN CLASS â€” DAY 009

**Date:** Dec 07, 2025 - Sunday

**Topic:** Functions, Purity, and Unit Testing

---

## ğŸŸ¡ 1ï¸âƒ£ FUNCTIONS AND GLOBAL VARIABLES

**ğŸ“Œ KEY CONCEPT:**

Avoid relying on global variables. Functions should take parameters and return values to be predictable.

### Bad Example - Side Effects

```javascript
let value = 10;

function addFive() {
    value += 5; // side effect
}

addFive();
console.log("Global value after addFive():", value); // 15
```

### Good Example - Pure Function

```javascript
function addFivePure(val) {
    return val + 5;
}

console.log("addFivePure(10):", addFivePure(10)); // 15
```

---

## ğŸŸ¡ 2ï¸âƒ£ ANONYMOUS FUNCTIONS

**ğŸ“Œ DEFINITION:**

Functions without a name, useful as **callbacks** or **inline definitions**.

**ğŸ”· EXAMPLE:**

```javascript
const double = function(x) { 
    return x * 2; 
}

console.log("double(5):", double(5));
```

---

## ğŸŸ¡ 3ï¸âƒ£ IIFE (IMMEDIATELY INVOKED FUNCTION EXPRESSION)

**ğŸ“Œ WHAT IT DOES:**

- Runs automatically when defined
- Often used for initialization
- Creates a new scope

**ğŸ”· EXAMPLE:**

```javascript
(function() {
    console.log("IIFE executed immediately!");
})();
```

---

## ğŸŸ¡ 4ï¸âƒ£ PURE VS IMPURE FUNCTIONS

**ğŸ“Œ PURE FUNCTION:**

- Depends only on input
- No side effects
- Always returns same output for same input

**ğŸ“Œ IMPURE FUNCTION:**

- Interacts with external state
- Modifies data outside its scope
- Can have different outputs for same input

### Pure Function Example

```javascript
function square(x) {
    return x * x;
}

console.log("square(4):", square(4)); // 16
```

### Impure Function Example

```javascript
let counter = 0;

function increment() {
    counter++; // modifies external state
}

increment();
console.log("Counter after increment():", counter); // 1
```

---

## ğŸŸ¡ 5ï¸âƒ£ UNIT TESTING

**ğŸ“Œ DEFINITION:**

Testing small parts of code in isolation to ensure correctness.

**ğŸ”· EXAMPLE USING JEST:**

```javascript
test('adds 2 + 5 to equal 7', () => {
    expect(addFivePure(2)).toBe(7);
});
```

---

## ğŸŸ¡ 6ï¸âƒ£ TEST-DRIVEN DEVELOPMENT (TDD)

**ğŸ“Œ PROCESS:**

1. Write tests first
2. Implement code to pass the tests
3. Refactor for quality

**ğŸ’¡ BENEFITS:**

- Encourages pure functions
- Leads to clean design
- Ensures code reliability

---

## ğŸŸ¡ 7ï¸âƒ£ BEST PRACTICES SUMMARY

**âœ… DO:**

- âœ”ï¸ Minimize global variables
- âœ”ï¸ Prefer pure functions where possible
- âœ”ï¸ Write unit tests for critical logic
- âœ”ï¸ Use IIFE for one-time execution
- âœ”ï¸ Document side effects clearly

**âš ï¸ REMEMBER:**

Some impure functions are necessary in real-world applications (API calls, database operations, etc.)
