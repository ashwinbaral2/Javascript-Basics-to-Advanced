# MERN CLASS NOTES â€” DAY 056

## ðŸ“† Date: **February 13, 2026 (Friday)**

---

## âœ… Topics Covered

### 1) Backend setup for Login & Register
- Setup for login and register data flow in the backend.
- Focus on how the backend should receive, validate, and respond to auth requests.

### 2) Try/Catch basics for finding errors (Error Handling)
- Used `try/catch` to understand where errors come from and how to catch them safely.
- Learned that you can throw or send *any* useful message inside a `try/catch` to debug a problem.
- Key idea: good error handling makes your app stable and easier to maintain.

### 3) Real-world observation (Nepal context)
- Government websites often crash more frequently because:
  - code and logic are not reviewed properly,
  - error handling is weak or missing,
  - systems are not tested well before deployment.

### 4) Tools for professional error tracking
- **Sentry.io** was introduced as a way to:
  - detect errors in real-time,
  - track crashes and bugs in production,
  - stand out from competitors by building more reliable apps.

---

## ðŸ”— Useful Resource
- https://sentry.io/


## Navbar page
```tsx
"use client";

import React, { useEffect, useRef, useState } from "react";
import Link from "next/link";
import Image from "next/image";

// Navbar.jsx
// Responsive, accessible navbar for Medlink (Level 1)
// - Drop this file into `client/components/`
// - Connect auth logic by replacing `isLoggedIn` with your auth state
// - Replace placeholder logo with your real image (public/medLinkLogo.png)

export default function Navbar() {
  // Placeholder auth state: replace with real auth logic (context/store)
  const [isLoggedIn, setIsLoggedIn] = useState(false);

  // Mobile menu and dropdown state
  const [mobileOpen, setMobileOpen] = useState(false);
  const [categoriesOpen, setCategoriesOpen] = useState(false);

  // Close menus on outside click / escape
  const navRef = useRef(null);

  useEffect(() => {
    function handleClick(e) {
      if (navRef.current && !navRef.current.contains(e.target)) {
        setMobileOpen(false);
        setCategoriesOpen(false);
      }
    }

    function handleKey(e) {
      if (e.key === "Escape") {
        setMobileOpen(false);
        setCategoriesOpen(false);
      }
    }

    document.addEventListener("mousedown", handleClick);
    document.addEventListener("keydown", handleKey);
    return () => {
      document.removeEventListener("mousedown", handleClick);
      document.removeEventListener("keydown", handleKey);
    };
  }, []);

  // Emergency categories (colors are applied as small badge dots)
  const categories = [
    { name: "Blood Donation", color: "bg-red-500" },
    { name: "Ambulance Request", color: "bg-blue-500" },
    { name: "Organ Donor Needed", color: "bg-green-500" },
    { name: "ICU Bed Availability", color: "bg-yellow-500" },
    { name: "Emergency Funding", color: "bg-purple-500" },
    { name: "General Medical Emergency", color: "bg-gray-700" },
  ];

  return (
    <header className="w-full shadow-sm bg-white/80 backdrop-blur-sm sticky top-0 z-40">
      <nav
        ref={navRef}
        className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"
        aria-label="Primary navigation"
      >
        <div className="flex items-center justify-between h-16">
          {/* Left: Logo */}
          <div className="shrink-0 mr-4">
            <Link href="/" aria-label="Medlink home" className="flex items-center">
              {/* Replace with real logo at /public/medLinkLogo.png */}
              <div className="relative w-10 h-10 rounded-full overflow-hidden bg-red-50 flex items-center justify-center">
                <Image src="/medLinkLogo.png" alt="Medlink" fill sizes="40px" className="object-cover" />
              </div>
              <span className="ml-3 font-semibold text-lg text-slate-800">Medlink</span>
            </Link>
          </div>

          {/* Center / Desktop Links */}
          <div className="hidden md:flex md:items-center md:space-x-6">
            <Link href="/" className="text-slate-700 hover:text-slate-900 transition px-2 py-1 rounded-md">Home</Link>

            {/* Emergency Categories dropdown */}
            <div className="relative">
              <button
                type="button"
                aria-haspopup="true"
                aria-expanded={categoriesOpen}
                onClick={() => setCategoriesOpen((s) => !s)}
                className="inline-flex items-center gap-2 text-slate-700 hover:text-slate-900 transition px-2 py-1
                rounded-md"
                >
                Emergency Categories
                <svg className={`w-4 h-4 transform ${categoriesOpen ? "rotate-180" : "rotate-0"}`} viewBox="0 0 20 20" fill="currentColor" aria-hidden>
                  <path fillRule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z" clipRule="evenodd" />
                </svg>
              </button>

              {categoriesOpen && (
                <div
                  role="menu"
                  aria-label="Emergency Categories"
                  className="absolute left-0 mt-2 w-64 bg-white rounded-md shadow-lg ring-1 ring-black/5 overflow-hidden"
                >
                  <ul className="p-2">
                    {categories.map((c) => (
                      <li key={c.name} className="px-2 py-2 hover:bg-slate-50 rounded-md">
                        <a href="#" role="menuitem" className="flex items-center gap-3 text-sm text-slate-700">
                          <span className={`w-2 h-2 rounded-full ${c.color}`} aria-hidden />
                          <span>{c.name}</span>
                        </a>
                      </li>
                    ))}
                  </ul>
                </div>
              )}
            </div>

            <Link href="/map" className="text-slate-700 hover:text-slate-900 transition px-2 py-1 rounded-md">Map</Link>
            <Link href="/profile" className="text-slate-700 hover:text-slate-900 transition px-2 py-1 rounded-md">Profile</Link>
          </div>

          {/* Right: search + auth */}
          <div className="flex items-center gap-3">
            {/* Search icon (expandable later) */}
            <button
              type="button"
              aria-label="Search emergencies"
              className="p-2 rounded-md hover:bg-slate-100 text-slate-700"
            >
              <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden>
                <path strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" d="M21 21l-4.35-4.35M10.5 18a7.5 7.5 0 100-15 7.5 7.5 0 000 15z" />
              </svg>
            </button>

            {/* Auth buttons or profile dropdown */}
            {!isLoggedIn ? (
              <div className="hidden sm:flex items-center gap-2">
                <Link href="/login" className="px-3 py-1.5 border border-transparent rounded-md text-sm font-medium text-slate-700 hover:bg-slate-50">
                  Login
                </Link>
                {/* The project uses /signup; change to /register if you prefer that path */}
                <Link href="/signup" className="px-3 py-1.5 bg-red-600 text-white rounded-md text-sm font-medium hover:bg-red-700">
                  Register
                </Link>
              </div>
            ) : (
              <div className="relative">
                <button
                  type="button"
                  aria-haspopup="true"
                  aria-expanded={categoriesOpen}
                  onClick={() => setCategoriesOpen((s) => !s)}
                  className="flex items-center gap-2 px-2 py-1 rounded-md hover:bg-slate-50"
                >
                  <span className="w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center">A</span>
                </button>
                {/* Profile menu (placeholder) */}
                {categoriesOpen && (
                  <div className="absolute right-0 mt-2 w-44 bg-white rounded-md shadow-lg ring-1 ring-black/5">
                    <ul className="py-1">
                      <li>
                        <Link href="/profile" className="block px-4 py-2 text-sm text-slate-700 hover:bg-slate-50">Profile</Link>
                      </li>
                      <li>
                        <a href="#" className="block px-4 py-2 text-sm text-slate-700 hover:bg-slate-50">Settings</a>
                      </li>
                      <li>
                        <button className="w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-slate-50">Logout</button>
                      </li>
                    </ul>
                  </div>
                )}
              </div>
            )}

            {/* Mobile hamburger */}
            <div className="md:hidden">
              <button
                type="button"
                aria-label="Open main menu"
                aria-expanded={mobileOpen}
                onClick={() => setMobileOpen((s) => !s)}
                className="p-2 rounded-md text-slate-700 hover:bg-slate-100"
              >
                {mobileOpen ? (
                  <svg className="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" d="M6 18L18 6M6 6l12 12" />
                  </svg>
                ) : (
                  <svg className="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" d="M4 6h16M4 12h16M4 18h16" />
                  </svg>
                )}
              </button>
            </div>
          </div>
        </div>

        {/* Mobile menu panel */}
        {mobileOpen && (
          <div className="md:hidden mt-2 pb-4">
            <div className="space-y-1">
              <Link href="/" className="block px-3 py-2 rounded-md text-base font-medium text-slate-700 hover:bg-slate-50">Home</Link>

              <div>
                <button
                  type="button"
                  aria-haspopup="true"
                  aria-expanded={categoriesOpen}
                  onClick={() => setCategoriesOpen((s) => !s)}
                  className="w-full text-left flex items-center justify-between px-3 py-2 rounded-md text-base font-medium text-slate-700 hover:bg-slate-50"
                >
                  <span>Emergency Categories</span>
                  <svg className={`w-4 h-4 transform ${categoriesOpen ? "rotate-180" : "rotate-0"}`} viewBox="0 0 20 20" fill="currentColor" aria-hidden>
                    <path fillRule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z" clipRule="evenodd" />
                  </svg>
                </button>

                {categoriesOpen && (
                  <div className="pl-4 mt-1">
                    {categories.map((c) => (
                      <a key={c.name} href="#" className="block px-3 py-2 rounded-md text-sm text-slate-700 hover:bg-slate-50">
                        <span className={`inline-block w-2 h-2 mr-2 rounded-full ${c.color}`} />
                        {c.name}
                      </a>
                    ))}
                  </div>
                )}
              </div>

              <Link href="/map" className="block px-3 py-2 rounded-md text-base font-medium text-slate-700 hover:bg-slate-50">Map</Link>
              <Link href="/profile" className="block px-3 py-2 rounded-md text-base font-medium text-slate-700 hover:bg-slate-50">Profile</Link>

              {!isLoggedIn ? (
                <div className="pt-2 border-t border-slate-100">
                  <Link href="/login" className="block px-3 py-2 rounded-md text-base font-medium text-slate-700 hover:bg-slate-50">Login</Link>
                  <Link href="/signup" className="mt-1 block px-3 py-2 rounded-md text-base font-medium text-white bg-red-600 hover:bg-red-700">Register</Link>
                </div>
              ) : (
                <div className="pt-2 border-t border-slate-100">
                  <Link href="/profile" className="block px-3 py-2 rounded-md text-base font-medium text-slate-700 hover:bg-slate-50">Profile</Link>
                  <a href="#" className="block px-3 py-2 rounded-md text-base font-medium text-slate-700 hover:bg-slate-50">Settings</a>
                  <button className="w-full text-left px-3 py-2 rounded-md text-base font-medium text-red-600 hover:bg-slate-50">Logout</button>
                </div>
              )}
            </div>
          </div>
        )}
      </nav>
    </header>
  );
}



```

## Home page 
```tsx
'use client';
import Image from "next/image";
import dynamic from "next/dynamic";

// Import Navbar as a client component. Use dynamic import to ensure compatibility
const Navbar = dynamic(() => import("../components/Navbar"), { ssr: false });

export default function Home() {
  return (
    <div className="min-h-screen flex flex-col">
      {/* Navbar appears only on the home page */}
      <Navbar />

      <main className="flex-1 flex items-center justify-center p-8">
        <div className="w-full max-w-4xl text-center">
          <h1 className="text-3xl font-bold text-slate-800 mb-4">Welcome to Medlink</h1>
          <p className="text-slate-600">home page</p>
        </div>
      </main>
    </div>
  );
}

```